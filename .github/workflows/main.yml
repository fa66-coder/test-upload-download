name: Playwright E2E
on:
  workflow_dispatch:
jobs:
  Tests:
    name: 'Try artifact ${{ matrix.shardIndex }}'
    runs-on: [ubuntu-latest]
#     continue-on-error: true
    strategy:
      fail-fast: false
      matrix:
        shardIndex: [1,2]
        shardTotal: [2]
    steps:
      - uses: actions/checkout@v1
      - name: Upload Test Results
        uses: actions/upload-artifact@v3
        if: always()
        with:
          name: a
          path: |
            ./packages/pub-playwright/index-${{ matrix.shardIndex }}.html
          retention-days: 5
  Download:
    name: 'Try downloading'
    needs: 'Tests'
    runs-on: [ubuntu-latest]
    steps:
      - uses: actions/download-artifact@v3
        with:
          name: 'a'
    
        
#       - name: Env variables
#         run: |
#           echo "my env variable is ${{ github.event.client_payload.testsToRun }}"
#           echo "my workflow inputs is ${{ github.event.inputs.testsToRun }} ${{ github.event.inputs.stage }}"
#           echo "Done"
          


